<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Internals · IntervalRootFinding.jl</title><meta name="title" content="Internals · IntervalRootFinding.jl"/><meta property="og:title" content="Internals · IntervalRootFinding.jl"/><meta property="twitter:title" content="Internals · IntervalRootFinding.jl"/><meta name="description" content="Documentation for IntervalRootFinding.jl."/><meta property="og:description" content="Documentation for IntervalRootFinding.jl."/><meta property="twitter:description" content="Documentation for IntervalRootFinding.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">IntervalRootFinding.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../roots/"><code>roots</code> interface</a></li><li><a class="tocitem" href="../decorations/">Decorations and guarantees</a></li><li class="is-active"><a class="tocitem" href>Internals</a><ul class="internal"><li><a class="tocitem" href="#Branch-and-bound"><span>Branch and bound</span></a></li><li><a class="tocitem" href="#Tree-representation"><span>Tree representation</span></a></li><li><a class="tocitem" href="#Search-strategy"><span>Search strategy</span></a></li><li><a class="tocitem" href="#Contractors"><span>Contractors</span></a></li><li><a class="tocitem" href="#RootProblem-and-search-object"><span>RootProblem and search object</span></a></li></ul></li><li><a class="tocitem" href="../biblio/">Bibliography</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Internals</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Internals</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaIntervals/IntervalRootFinding.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaIntervals/IntervalRootFinding.jl/blob/master/docs/src/internals.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Internals"><a class="docs-heading-anchor" href="#Internals">Internals</a><a id="Internals-1"></a><a class="docs-heading-anchor-permalink" href="#Internals" title="Permalink"></a></h1><p>This section describes some of the internal mechanism of the package and several ways to use them to customize a search.</p><h2 id="Branch-and-bound"><a class="docs-heading-anchor" href="#Branch-and-bound">Branch and bound</a><a id="Branch-and-bound-1"></a><a class="docs-heading-anchor-permalink" href="#Branch-and-bound" title="Permalink"></a></h2><p>When <code>roots</code> is called, it performs a <strong>branch-and-bound</strong> search, that is, it iteratively looks at a region <span>$X$</span> and for each region tries to determine if it contains a root. It then does the following:</p><ul><li>If <span>$X$</span> is proven to contain <em>no</em> root, it discards it.</li><li>If <span>$X$</span> is proven to contain <em>exactly one root</em>, it tries to get the best possible bounds for the root and store the resulting region in the list of <code>Root</code>s to output with a <code>:unique</code> status.</li><li>If the test is inconclusive and the size of <span>$X$</span> is smaller than the tolerance, it stores it in the list of <code>Root</code>s to output with <code>:unknown</code> status.</li><li>If the test is inconclusive and the size of <span>$X$</span> is larger than the tolerance, it bisects <span>$X$</span> and then processes each resulting half.</li></ul><p>At some point all regions will either have a determined status or be smaller than the tolerance, and the algorithm will halt and return all stored roots.</p><h2 id="Tree-representation"><a class="docs-heading-anchor" href="#Tree-representation">Tree representation</a><a id="Tree-representation-1"></a><a class="docs-heading-anchor-permalink" href="#Tree-representation" title="Permalink"></a></h2><p>A branch-and-bound search can be naturally represented as a binary tree: each leaf contains a region and its status and each node represents a bisection. If the tree is known, the topology of the whole search can be reconstructed. There is however a point not determined by the tree.</p><p>The branch and bound algorithm used by the <code>roots</code> function builds this tree and at the end collect all leaves containing a region with status either <code>:unknown</code> or <code>:unique</code>. We see below how to access the tree.</p><h2 id="Search-strategy"><a class="docs-heading-anchor" href="#Search-strategy">Search strategy</a><a id="Search-strategy-1"></a><a class="docs-heading-anchor-permalink" href="#Search-strategy" title="Permalink"></a></h2><p>While the tree representation is sufficient to know the topology of the search, it does not determine the order in which leaves are processed during the search. This has an influence on how the tree is created and the amount of memory used, but will not change the resulting tree, unless some limitations on the number of iterations or leaves are enforced.</p><div class="admonition is-info"><header class="admonition-header">Note</header><div class="admonition-body"><p>No such limitations are currently implemented, but they are planned. They will allow to deal, for example, with functions admitting an infinite amount of roots.</p></div></div><p>Two strategies are currently available: a breadth-first strategy (leaves closer to the root of the tree are processed first); and a depth-first strategy (leaves further away from the root are processed first).</p><h2 id="Contractors"><a class="docs-heading-anchor" href="#Contractors">Contractors</a><a id="Contractors-1"></a><a class="docs-heading-anchor-permalink" href="#Contractors" title="Permalink"></a></h2><p>To determine the status of a region, the algorithm uses so-called <em>contractors</em>. When we contract a region (wrapped in a <code>Root</code> object), it returns the status of the root and the region. The contractors are various methods to guarantee and refine the status of a root. The available contractors are <code>Bisection</code>, <code>Newton</code> or <code>Krawczyk</code>.</p><pre><code class="language-julia-repl hljs">julia&gt; using IntervalArithmetic.Symbols

julia&gt; contract(Newton, sin, cos, Root(pi ± 0.001, :unknown))
Root([3.14159, 3.1416]_com, :unique)

julia&gt; contract(Newton, sin, cos, Root(2 ± 0.001, :unknown))
Root([1.99899, 2.00101]_com, :empty)</code></pre><h2 id="RootProblem-and-search-object"><a class="docs-heading-anchor" href="#RootProblem-and-search-object">RootProblem and search object</a><a id="RootProblem-and-search-object-1"></a><a class="docs-heading-anchor-permalink" href="#RootProblem-and-search-object" title="Permalink"></a></h2><p>The parameters of a search are represented by a <code>RootProblem</code> object that has the same signature as the <code>roots</code> function.</p><p>The <code>RootProblem</code> can be iterated to perform the search of the roots, for example to log information at each iteration.</p><p>For example, the following stops the search after 15 iterations and shows the state of the search at that point.</p><pre><code class="language-julia-repl hljs">julia&gt; f(x) = exp(x) - sin(x)
f (generic function with 1 method)

julia&gt; problem = RootProblem(f, interval(-10, 10))

julia&gt; state = nothing   # stores current state of the search

julia&gt; for (k, s) in enumerate(problem)
           global state = s
           k == 15 &amp;&amp; break  # stop at iteration 15
       end

julia&gt; state.tree
Branching
└─ Branching
   ├─ Branching
   │  ├─ Branching
   │  │  ├─ (:working, Root([-10.0, -8.7886]_com, :unknown))
   │  │  └─ (:working, Root([-8.78861, -7.55813]_com, :unknown))
   │  └─ (:final, Root([-6.28132, -6.28131]_com, :unique))
   └─ Branching
      ├─ (:working, Root([-5.07783, -3.84734]_com, :unknown))
      └─ (:working, Root([-3.84736, -2.5975]_com, :unknown))</code></pre><p>The elements of the iteration are <code>SearchState</code> from the <code>BranchAndPrune.jl</code> package. In the example, we show the tree that get constructed during the search, which, at iteration 15, has found one root and have 4 regions of unknown status to process.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../decorations/">« Decorations and guarantees</a><a class="docs-footer-nextpage" href="../biblio/">Bibliography »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.10.1 on <span class="colophon-date" title="Sunday 20 April 2025 23:04">Sunday 20 April 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
