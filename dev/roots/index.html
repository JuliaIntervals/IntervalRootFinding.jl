<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>roots interface · IntervalRootFinding.jl</title><meta name="title" content="roots interface · IntervalRootFinding.jl"/><meta property="og:title" content="roots interface · IntervalRootFinding.jl"/><meta property="twitter:title" content="roots interface · IntervalRootFinding.jl"/><meta name="description" content="Documentation for IntervalRootFinding.jl."/><meta property="og:description" content="Documentation for IntervalRootFinding.jl."/><meta property="twitter:description" content="Documentation for IntervalRootFinding.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">IntervalRootFinding.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li class="is-active"><a class="tocitem" href><code>roots</code> interface</a><ul class="internal"><li><a class="tocitem" href="#Methods"><span>Methods</span></a></li><li><a class="tocitem" href="#Explicit-derivatives"><span>Explicit derivatives</span></a></li><li><a class="tocitem" href="#Tolerance"><span>Tolerance</span></a></li></ul></li><li><a class="tocitem" href="../decorations/">Decorations and guarantees</a></li><li><a class="tocitem" href="../internals/">Internals</a></li><li><a class="tocitem" href="../biblio/">Bibliography</a></li><li><a class="tocitem" href="../api/">API</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href><code>roots</code> interface</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href><code>roots</code> interface</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaIntervals/IntervalRootFinding.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaIntervals/IntervalRootFinding.jl/blob/master/docs/src/roots.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="roots-interface"><a class="docs-heading-anchor" href="#roots-interface"><code>roots</code> interface</a><a id="roots-interface-1"></a><a class="docs-heading-anchor-permalink" href="#roots-interface" title="Permalink"></a></h1><h2 id="Methods"><a class="docs-heading-anchor" href="#Methods">Methods</a><a id="Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Methods" title="Permalink"></a></h2><p>Three root-finding contractors currently available through the <code>roots</code> interface are the following:</p><ul><li><code>Newton</code> (default);</li><li><code>Krawczyk</code>;</li><li><code>Bisection</code></li></ul><p>Both the Newton and Krawczyk methods can determine if a root is unique in an interval, at the cost of requiring that the function is differentiable. The bisection method has no such requirement, but can never guarantee the existence or uniqueness of a root.</p><p>The method used is given using the <code>contractor</code> keyword argument:</p><pre><code class="language-jl hljs">julia&gt; roots(log, -2..2 ; contractor = Newton)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com, :unique)

julia&gt; roots(log, -2..2 ; contractor = Krawczyk)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com, :unique)

julia&gt; roots(log, -2..2 ; contractor = Bisection)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com, :unknown)</code></pre><p>Note that as shown in the example, the <code>log</code> function does not complain about being given an interval going outside of its domain. While this may be surprising, this is the expected behavior and no root will ever be found outside the domain of a function.</p><h2 id="Explicit-derivatives"><a class="docs-heading-anchor" href="#Explicit-derivatives">Explicit derivatives</a><a id="Explicit-derivatives-1"></a><a class="docs-heading-anchor-permalink" href="#Explicit-derivatives" title="Permalink"></a></h2><p>Newton and Krawczyk methods require the function to be differentiable, but the derivative is usually computed automatically using forward-mode automatic differentiation, provided by the <code>ForwardDiff.jl</code> package. It is however possible to provide the derivative explicitly using the <code>derivative</code> keyword argument:</p><pre><code class="language-jl hljs">julia&gt; roots(log, -2..2 ; contractor = Newton, derivative = x -&gt; 1/x)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com_NG, :unique)

julia&gt; roots(log, -2..2 ; contractor = Krawczyk, derivative = x -&gt; 1/x)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com_NG, :unique)</code></pre><p>When providing the derivative explicitly, the computation is expected to be slightly faster, but the precision of the result is unlikely to be affected.</p><pre><code class="language-jl hljs">julia&gt; using BenchmarkTools

julia&gt; @btime roots(log, -2..2 ; derivative = x -&gt; 1/x)
  4.814 μs (53 allocations: 3.16 KiB)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com_NG, :unique)

julia&gt; @btime roots(log, -2..2)
  5.767 μs (53 allocations: 3.16 KiB)
1-element Vector{Root{Interval{Float64}}}:
 Root([0.999999, 1.00001]_com, :unique)</code></pre><p>This may be useful in some special cases where <code>ForwardDiff.jl</code> is unable to compute the derivative of a function. Examples are complex functions and functions whose interval extension must be manually defined (e.g. special functions like <code>zeta</code>).</p><p>In dimension greater than one, the derivative be given as a function returning the Jacobi matrix:</p><pre><code class="language-jl hljs">julia&gt; function f( (x, y) )
           return [sin(x), cos(y)]
       end
f (generic function with 1 method)

julia&gt; function df( (x, y) )
           return [cos(x) 0 ; 0 -sin(y)]
       end

julia&gt; roots(f, [-3..3, -3..3] ; derivative = df)
2-element Vector{Root{Vector{Interval{Float64}}}}:
 Root(Interval{Float64}[[-1.24409e-21, 1.0588e-22]_com_NG, [-1.5708, -1.57079]_com_NG], :unique)
 Root(Interval{Float64}[[-1.24409e-21, 1.0588e-22]_com_NG, [1.57079, 1.5708]_com_NG], :unique)</code></pre><h2 id="Tolerance"><a class="docs-heading-anchor" href="#Tolerance">Tolerance</a><a id="Tolerance-1"></a><a class="docs-heading-anchor-permalink" href="#Tolerance" title="Permalink"></a></h2><p>An absolute tolerance for the search may be specified as the <code>abstol</code> keyword argument. Currently a method must first be provided in order to be able to choose the tolerance.</p><pre><code class="language-jl hljs">julia&gt; g(x) = sin(exp(x))
g (generic function with 1 method)
        
julia&gt; roots(g, 0..2)
2-element Vector{Root{Interval{Float64}}}:
 Root([1.14472, 1.14474]_com, :unique)
 Root([1.83787, 1.83788]_com, :unique)

julia&gt; roots(g, 0..2 ; abstol = 1e-1)
2-element Vector{Root{Interval{Float64}}}:
 Root([1.14173, 1.15244]_com, :unique)
 Root([1.78757, 1.84273]_com, :unique)</code></pre><p>A lower tolerance may greatly reduce the computation time, at the cost of an increased number of returned roots having <code>:unknown</code> status:</p><pre><code class="language-jl hljs">julia&gt; h(x) = cos(x) * sin(1 / x)
h (generic function with 1 method)

julia&gt; @btime roots(h, 0.05..1)
  79.500 μs (301 allocations: 13.97 KiB)
6-element Vector{Root{Interval{Float64}}}:
 Root([0.0530516, 0.0530517]_com_NG, :unique)
 Root([0.0636619, 0.063662]_com_NG, :unique)
 Root([0.0795774, 0.0795775]_com_NG, :unique)
 Root([0.106103, 0.106104]_com_NG, :unique)
 Root([0.159154, 0.159156]_com_NG, :unique)
 Root([0.318309, 0.31831]_com_NG, :unique)

julia&gt; @btime roots(h, 0.05..1 ; abstol = 1e-2)
  48.500 μs (265 allocations: 11.61 KiB)
6-element Vector{Root{Interval{Float64}}}:
 Root([0.0514445, 0.0531087]_com_NG, :unique)
 Root([0.0570253, 0.0641615]_com, :unknown)
 Root([0.0785458, 0.0797797]_com_NG, :unknown)
 Root([0.104754, 0.107542]_com_NG, :unknown)
 Root([0.157236, 0.165989]_com_NG, :unknown)
 Root([0.31716, 0.319318]_com_NG, :unique)

julia&gt; @btime roots(h, 0.05..1 ; abstol = 1e-1)
  17.300 μs (114 allocations: 5.16 KiB)
3-element Vector{Root{Interval{Float64}}}:
 Root([0.04999999, 0.107542]_com, :unknown)
 Root([0.107541, 0.165989]_com, :unknown)
 Root([0.283803, 0.356099]_com_NG, :unknown)</code></pre><p>The last example shows a case where the tolerance was too large to be able to isolate the roots in distinct regions.</p><div class="admonition is-warning"><header class="admonition-header">Warning</header><div class="admonition-body"><p>For a root <code>x</code> of some function, if the absolute tolerance is smaller than <code>eps(x)</code> i.e. if <code>tol + x == x</code>, <code>roots</code> may never be able to converge to the required tolerance and the function may get stuck in an infinite loop.</p></div></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../">« Home</a><a class="docs-footer-nextpage" href="../decorations/">Decorations and guarantees »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Saturday 16 November 2024 20:37">Saturday 16 November 2024</span>. Using Julia version 1.11.1.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
